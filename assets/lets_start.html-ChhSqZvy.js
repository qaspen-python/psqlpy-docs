import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,o as c,c as p,e as r,w as e,b as t,a as d,d as n}from"./app-gObj4Itx.js";const u={},m=t("h2",{id:"installation",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#installation"},[t("span",null,"Installation")])],-1),h=t("p",null,"You can install psqlpy with pip, poetry or directly from git using pip:",-1),y=t("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[t("pre",{class:"language-bash"},[t("code",null,[n("pip "),t("span",{class:"token function"},"install"),n(` psqlpy
`)])]),t("div",{class:"line-numbers","aria-hidden":"true"},[t("div",{class:"line-number"})])],-1),v=t("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[t("pre",{class:"language-bash"},[t("code",null,[n("poetry "),t("span",{class:"token function"},"add"),n(` psqlpy
`)])]),t("div",{class:"line-numbers","aria-hidden":"true"},[t("div",{class:"line-number"})])],-1),b=t("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[t("pre",{class:"language-bash"},[t("code",null,[n("pip "),t("span",{class:"token function"},"install"),n(` git+https://github.com/qaspen-python/psqlpy
`)])]),t("div",{class:"line-numbers","aria-hidden":"true"},[t("div",{class:"line-number"})])],-1),k=d(`<p>After installation you are ready to start querying!</p><h2 id="first-request-to-the-database" tabindex="-1"><a class="header-anchor" href="#first-request-to-the-database"><span>First request to the database</span></a></h2><p>There is a minimal example of what you need to do to send your first query and receive result.<br> Let&#39;s assume that we have table <code>users</code>:</p><table><thead><tr><th style="text-align:center;">id</th><th style="text-align:center;">name</th><th style="text-align:center;">username</th></tr></thead><tbody><tr><td style="text-align:center;">1</td><td style="text-align:center;">Aleksandr</td><td style="text-align:center;">chandr-andr</td></tr><tr><td style="text-align:center;">2</td><td style="text-align:center;">Michail</td><td style="text-align:center;">insani7y</td></tr></tbody></table><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code><span class="token keyword">import</span> asyncio
<span class="token keyword">from</span> typing <span class="token keyword">import</span> Final

<span class="token keyword">from</span> psqlpy <span class="token keyword">import</span> PSQLPool<span class="token punctuation">,</span> QueryResult


<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
    <span class="token comment"># It uses default connection parameters</span>
    db_pool<span class="token punctuation">:</span> Final <span class="token operator">=</span> PSQLPool<span class="token punctuation">(</span><span class="token punctuation">)</span>

    results<span class="token punctuation">:</span> Final<span class="token punctuation">[</span>QueryResult<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> db_pool<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>
        <span class="token string">&quot;SELECT * FROM users WHERE id = $1&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>

    dict_results<span class="token punctuation">:</span> Final<span class="token punctuation">[</span><span class="token builtin">list</span><span class="token punctuation">[</span><span class="token builtin">dict</span><span class="token punctuation">[</span>Any<span class="token punctuation">,</span> Any<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> results<span class="token punctuation">.</span>result<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># You don&#39;t need to close pool, rust does it instead.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>You must call <code>close()</code> on database pool when you application is shutting down.</p></div><div class="hint-container caution"><p class="hint-container-title">Caution</p><p>You must not use <code>PSQLPool.execute</code> method in high-load production code!<br> It pulls connection from the pool each time you call <code>execute</code> method and it&#39;s necessary to block connection pool (like Mutex) which means no one other thread can not acquire connection pool.<br> In you high-load production code you must retrieve connection from the pool <code>PSQLPool.connection</code> and use it for querying.</p></div>`,7);function g(_,f){const o=l("CodeTabs");return c(),p("div",null,[m,h,r(o,{id:"6",data:[{id:"pip"},{id:"poetry"},{id:"git"}],"tab-id":"shell"},{title0:e(({value:a,isActive:s})=>[n("pip")]),title1:e(({value:a,isActive:s})=>[n("poetry")]),title2:e(({value:a,isActive:s})=>[n("git")]),tab0:e(({value:a,isActive:s})=>[y]),tab1:e(({value:a,isActive:s})=>[v]),tab2:e(({value:a,isActive:s})=>[b]),_:1}),k])}const w=i(u,[["render",g],["__file","lets_start.html.vue"]]),A=JSON.parse(`{"path":"/introduction/lets_start.html","title":"Let's Start","lang":"en-US","frontmatter":{"title":"Let's Start","description":"Installation You can install psqlpy with pip, poetry or directly from git using pip: After installation you are ready to start querying! First request to the database There is a...","head":[["meta",{"property":"og:url","content":"https://github.com/qaspen-python/psqlpy/psqlpy-docs/introduction/lets_start.html"}],["meta",{"property":"og:title","content":"Let's Start"}],["meta",{"property":"og:description","content":"Installation You can install psqlpy with pip, poetry or directly from git using pip: After installation you are ready to start querying! First request to the database There is a..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-03-20T20:19:47.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-20T20:19:47.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Let's Start\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-03-20T20:19:47.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Installation","slug":"installation","link":"#installation","children":[]},{"level":2,"title":"First request to the database","slug":"first-request-to-the-database","link":"#first-request-to-the-database","children":[]}],"git":{"createdTime":1710096643000,"updatedTime":1710965987000,"contributors":[{"name":"chandr-andr (Kiselev Aleksandr)","email":"askiselev00@gmail.com","commits":4},{"name":"reqww","email":"my.gurbanov@gmail.com","commits":1}]},"readingTime":{"minutes":0.75,"words":224},"filePathRelative":"introduction/lets_start.md","localizedDate":"March 10, 2024","autoDesc":true}`);export{w as comp,A as data};
